import{B as t,H as e,_ as n,r,a as s,b as a,c as o,d as i,i as c,s as l,e as u,S as f,h,t as v,m as d,n as m,o as g,k as p,p as y,v as b,w,I as E,C as A,g as I,J as S,l as N,G as D,K as k,q as C,L as T,x as O,M as R,N as x,O as L}from"./client.6c7bf9c2.js";import{t as $}from"./tsv.c906c42a.js";import{f as V,a as H,b as j,s as J}from"./helpers.3b26ddc2.js";import{E as P}from"./constants.8e4190be.js";function B(t){for(var e in t){var n,r,s=t[e].trim();if(s)if("true"===s)s=!0;else if("false"===s)s=!1;else if("NaN"===s)s=NaN;else if(isNaN(n=+s)){if(!(r=s.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;M&&r[4]&&!r[7]&&(s=s.replace(/-/g,"/").replace(/T/," ")),s=new Date(s)}else s=n;else s=null;t[e]=s}return t}var M=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function F(t){return t}function G(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y(e,n,r,s){return function e(a,o){if(o>=s.length)return r(a);var i,c=new Map,l=s[o++],u=-1,f=G(a);try{for(f.s();!(i=f.n()).done;){var h=i.value,v=l(h,++u,a),d=c.get(v);d?d.push(h):c.set(v,[h])}}catch(t){f.e(t)}finally{f.f()}var m,g=G(c);try{for(g.s();!(m=g.n()).done;){var p=t(m.value,2),y=p[0],b=p[1];c.set(y,e(b,o))}}catch(t){g.e(t)}finally{g.f()}return n(c)}(e,0)}var _=e(null,(function(t){t(new Date);var e=setInterval((function(){t(new Date)}),1e3);return function(){return clearInterval(e)}}));function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var s=a(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return o(this,n)}}var U=x.document;function Z(t,e,n){var r=t.slice();return r[21]=e[n],r}function z(t,e,n){var r=t.slice();return r[21]=e[n],r}function Q(t,e,n){var r=t.slice();return r[18]=e[n],r[20]=n,r}function W(t,e,n){var r=t.slice();return r[15]=e[n][0],r[2]=e[n][1],r}function X(t,e,n){var r=t.slice();return r[15]=e[n][0],r[2]=e[n][1],r}function tt(t){var e,n,r,s,a,o=V(t[2][0].startsAt)+"";return{c:function(){e=h("a"),n=v(o),this.h()},l:function(t){e=d(t,"A",{class:!0,href:!0});var r=m(e);n=g(r,o),r.forEach(p),this.h()},h:function(){y(e,"class","rounded-link bd-col-1 col-1"),y(e,"href",r="#"+V(t[2][0].startsAt).toLowerCase())},m:function(t,r){b(t,e,r),w(e,n),s||(a=E(e,"click",L(ht)),s=!0)},p:function(t,s){2&s&&o!==(o=V(t[2][0].startsAt)+"")&&A(n,o),2&s&&r!==(r="#"+V(t[2][0].startsAt).toLowerCase())&&y(e,"href",r)},d:function(t){t&&p(e),s=!1,a()}}}function et(t){var e,n;return{c:function(){e=h("a"),n=v("ONLINE"),this.h()},l:function(t){e=d(t,"A",{href:!0,class:!0});var r=m(e);n=g(r,"ONLINE"),r.forEach(p),this.h()},h:function(){y(e,"href","/live"),y(e,"class","rounded-link bd-col-1 col-1 svelte-eosgbm")},m:function(t,r){b(t,e,r),w(e,n)},d:function(t){t&&p(e)}}}function nt(t){var e,n;return{c:function(){e=h("a"),n=v("ONSITE"),this.h()},l:function(t){e=d(t,"A",{href:!0,class:!0});var r=m(e);n=g(r,"ONSITE"),r.forEach(p),this.h()},h:function(){y(e,"href","/getting-there"),y(e,"class","rounded-link bd-col-1 col-1 svelte-eosgbm")},m:function(t,r){b(t,e,r),w(e,n)},d:function(t){t&&p(e)}}}function rt(t){var e,n,r,s,a=t[21].name+"";return{c:function(){e=h("a"),n=v(a),r=I(),this.h()},l:function(t){e=d(t,"A",{href:!0,class:!0});var s=m(e);n=g(s,a),r=N(s),s.forEach(p),this.h()},h:function(){y(e,"href",s="artists/"+t[21].slug),y(e,"class","artist-name col-5 svelte-eosgbm")},m:function(t,s){b(t,e,s),w(e,n),w(e,r)},p:function(t,r){2&r&&a!==(a=t[21].name+"")&&A(n,a),2&r&&s!==(s="artists/"+t[21].slug)&&y(e,"href",s)},d:function(t){t&&p(e)}}}function st(t){var e,n,r,s;return{c:function(){e=h("a"),n=h("span"),r=I(),this.h()},l:function(t){e=d(t,"A",{href:!0});var s=m(e);n=d(s,"SPAN",{class:!0,style:!0}),m(n).forEach(p),r=N(s),s.forEach(p),this.h()},h:function(){y(n,"class","bio-photo svelte-eosgbm"),D(n,"background-image","url(img/bios/"+t[21].username+".jpeg)"),y(e,"href",s="artists/"+t[21].slug)},m:function(t,s){b(t,e,s),w(e,n),w(e,r)},p:function(t,r){2&r&&D(n,"background-image","url(img/bios/"+t[21].username+".jpeg)"),2&r&&s!==(s="artists/"+t[21].slug)&&y(e,"href",s)},d:function(t){t&&p(e)}}}function at(t){for(var e,n,r,s,a,o,i,c,l,u,f,E,S,D,C,T,O,R,x,L,$,H,J,P,B=j(t[18].startsAt)+"",M=V(t[18].startsAt)+"",F=t[18].title+"",G=t[18].desc+"",q=t[18].livestream&&et(),Y=t[18].physical&&nt(),_=t[18].artists,K=[],U=0;U<_.length;U+=1)K[U]=rt(z(t,_,U));for(var Q=t[18].artists,W=[],X=0;X<Q.length;X+=1)W[X]=st(Z(t,Q,X));return{c:function(){e=h("div"),n=h("div"),r=h("div"),q&&q.c(),s=I(),Y&&Y.c(),a=I(),o=h("div"),i=h("div"),c=v(B),l=I(),u=v(M),f=I(),E=h("div"),S=v(F),D=I(),C=h("div"),T=v(G),O=I();for(var t=0;t<K.length;t+=1)K[t].c();R=I(),x=h("div");for(var d=0;d<W.length;d+=1)W[d].c();L=I(),this.h()},l:function(t){e=d(t,"DIV",{id:!0,class:!0,live:!0,physical:!0});var h=m(e);n=d(h,"DIV",{class:!0});var v=m(n);r=d(v,"DIV",{class:!0});var y=m(r);q&&q.l(y),s=N(y),Y&&Y.l(y),y.forEach(p),a=N(v),o=d(v,"DIV",{class:!0});var b=m(o);i=d(b,"DIV",{class:!0});var w=m(i);c=g(w,B),l=N(w),u=g(w,M),w.forEach(p),f=N(b),E=d(b,"DIV",{class:!0});var A=m(E);S=g(A,F),A.forEach(p),D=N(b),C=d(b,"DIV",{class:!0});var I=m(C);T=g(I,G),I.forEach(p),O=N(b);for(var k=0;k<K.length;k+=1)K[k].l(b);b.forEach(p),R=N(v),x=d(v,"DIV",{class:!0});for(var $=m(x),V=0;V<W.length;V+=1)W[V].l($);$.forEach(p),v.forEach(p),L=N(h),h.forEach(p),this.h()},h:function(){y(r,"class","column is-1 location-data svelte-eosgbm"),y(i,"class","event-time col-3 svelte-eosgbm"),y(E,"class","event-title svelte-eosgbm"),y(C,"class","event-description svelte-eosgbm"),y(o,"class","column is-9"),y(x,"class","column text-align-right svelte-eosgbm"),y(n,"class","columns"),y(e,"id",$=t[18].id),y(e,"class",H=" event "+t[3](t[18])+" svelte-eosgbm"),y(e,"live",J=t[18].livestream),y(e,"physical",P=t[18].physical)},m:function(t,h){b(t,e,h),w(e,n),w(n,r),q&&q.m(r,null),w(r,s),Y&&Y.m(r,null),w(n,a),w(n,o),w(o,i),w(i,c),w(i,l),w(i,u),w(o,f),w(o,E),w(E,S),w(o,D),w(o,C),w(C,T),w(o,O);for(var v=0;v<K.length;v+=1)K[v].m(o,null);w(n,R),w(n,x);for(var d=0;d<W.length;d+=1)W[d].m(x,null);w(e,L)},p:function(t,n){if(t[18].livestream?q||((q=et()).c(),q.m(r,s)):q&&(q.d(1),q=null),t[18].physical?Y||((Y=nt()).c(),Y.m(r,null)):Y&&(Y.d(1),Y=null),2&n&&B!==(B=j(t[18].startsAt)+"")&&A(c,B),2&n&&M!==(M=V(t[18].startsAt)+"")&&A(u,M),2&n&&F!==(F=t[18].title+"")&&A(S,F),2&n&&G!==(G=t[18].desc+"")&&A(T,G),2&n){var a;for(_=t[18].artists,a=0;a<_.length;a+=1){var i=z(t,_,a);K[a]?K[a].p(i,n):(K[a]=rt(i),K[a].c(),K[a].m(o,null))}for(;a<K.length;a+=1)K[a].d(1);K.length=_.length}if(2&n){var l;for(Q=t[18].artists,l=0;l<Q.length;l+=1){var f=Z(t,Q,l);W[l]?W[l].p(f,n):(W[l]=st(f),W[l].c(),W[l].m(x,null))}for(;l<W.length;l+=1)W[l].d(1);W.length=Q.length}2&n&&$!==($=t[18].id)&&y(e,"id",$),2&n&&H!==(H=" event "+t[3](t[18])+" svelte-eosgbm")&&y(e,"class",H),2&n&&J!==(J=t[18].livestream)&&y(e,"live",J),2&n&&P!==(P=t[18].physical)&&y(e,"physical",P)},d:function(t){t&&p(e),q&&q.d(),Y&&Y.d(),k(K,t),k(W,t)}}}function ot(t){for(var e,n,r,s,a,o=H(t[2][0].startsAt)+"",i=t[2],c=[],l=0;l<i.length;l+=1)c[l]=at(Q(t,i,l));return{c:function(){e=h("h2"),n=v(o),s=I();for(var t=0;t<c.length;t+=1)c[t].c();a=S(),this.h()},l:function(t){e=d(t,"H2",{id:!0});var r=m(e);n=g(r,o),r.forEach(p),s=N(t);for(var i=0;i<c.length;i+=1)c[i].l(t);a=S(),this.h()},h:function(){y(e,"id",r=V(t[2][0].startsAt).toLowerCase())},m:function(t,r){b(t,e,r),w(e,n),b(t,s,r);for(var o=0;o<c.length;o+=1)c[o].m(t,r);b(t,a,r)},p:function(t,s){if(2&s&&o!==(o=H(t[2][0].startsAt)+"")&&A(n,o),2&s&&r!==(r=V(t[2][0].startsAt).toLowerCase())&&y(e,"id",r),10&s){var l;for(i=t[2],l=0;l<i.length;l+=1){var u=Q(t,i,l);c[l]?c[l].p(u,s):(c[l]=at(u),c[l].c(),c[l].m(a.parentNode,a))}for(;l<c.length;l+=1)c[l].d(1);c.length=i.length}},d:function(t){t&&p(e),t&&p(s),k(c,t),t&&p(a)}}}function it(e){for(var n,r,s,a,o,i,c,l,u,f,A,S,D,x,L,$,V,H,j,J,B,M,F,G,q,Y,_,K,Z,z,Q,et,nt,rt,st,at,it,ct,lt=e[1],ht=[],vt=0;vt<lt.length;vt+=1)ht[vt]=tt(X(e,lt,vt));for(var dt=e[1],mt=[],gt=0;gt<dt.length;gt+=1)mt[gt]=ot(W(e,dt,gt));return{c:function(){n=I(),r=h("section"),s=h("div"),a=h("div"),o=h("h2"),i=v("Events"),c=I(),l=h("p"),u=v("The online component of Chimera Garden features a mixture of live\n        performance, discussion and demonstrations, streamed directly from St\n        James Hatcham Church and remote artistsâ€™ locations. You will be able to\n        catch the online stream "),f=h("a"),A=v("here on our website"),S=v(" during the\n        show."),D=I(),x=h("p"),L=v("Below you can find the line up of events, some that will be happening\n        physically in St James Hatcham Church and those that will be streaming\n        online. Below you can register for free tickets for the online events.\n        If you would like to visit us at St James Hatcham Church please read our\n        "),$=h("a"),V=v("safety guidelines and register here."),H=I(),j=h("h2"),J=v("Schedule"),B=I(),M=h("div");for(var t=0;t<ht.length;t+=1)ht[t].c();F=I(),G=h("a"),q=v("Free online tickets"),Y=I(),_=h("div"),K=h("span"),Z=v("ALL"),z=I(),Q=h("span"),et=v("ONLINE"),nt=I(),rt=h("span"),st=v("ONSITE"),at=I();for(var e=0;e<mt.length;e+=1)mt[e].c();this.h()},l:function(t){C('[data-svelte="svelte-1llonc1"]',U.head).forEach(p),n=N(t),r=d(t,"SECTION",{class:!0});var e=m(r);s=d(e,"DIV",{class:!0});var h=m(s);a=d(h,"DIV",{class:!0});var v=m(a);o=d(v,"H2",{});var y=m(o);i=g(y,"Events"),y.forEach(p),c=N(v),l=d(v,"P",{});var b=m(l);u=g(b,"The online component of Chimera Garden features a mixture of live\n        performance, discussion and demonstrations, streamed directly from St\n        James Hatcham Church and remote artistsâ€™ locations. You will be able to\n        catch the online stream "),f=d(b,"A",{href:!0});var w=m(f);A=g(w,"here on our website"),w.forEach(p),S=g(b," during the\n        show."),b.forEach(p),D=N(v),x=d(v,"P",{});var E=m(x);L=g(E,"Below you can find the line up of events, some that will be happening\n        physically in St James Hatcham Church and those that will be streaming\n        online. Below you can register for free tickets for the online events.\n        If you would like to visit us at St James Hatcham Church please read our\n        "),$=d(E,"A",{href:!0});var I=m($);V=g(I,"safety guidelines and register here."),I.forEach(p),E.forEach(p),H=N(v),j=d(v,"H2",{});var k=m(j);J=g(k,"Schedule"),k.forEach(p),B=N(v),M=d(v,"DIV",{});for(var T=m(M),O=0;O<ht.length;O+=1)ht[O].l(T);F=N(T),G=d(T,"A",{class:!0,href:!0,target:!0});var R=m(G);q=g(R,"Free online tickets"),R.forEach(p),T.forEach(p),Y=N(v),_=d(v,"DIV",{class:!0});var P=m(_);K=d(P,"SPAN",{class:!0});var W=m(K);Z=g(W,"ALL"),W.forEach(p),z=N(P),Q=d(P,"SPAN",{class:!0});var X=m(Q);et=g(X,"ONLINE"),X.forEach(p),nt=N(P),rt=d(P,"SPAN",{class:!0});var tt=m(rt);st=g(tt,"ONSITE"),tt.forEach(p),P.forEach(p),at=N(v);for(var ot=0;ot<mt.length;ot+=1)mt[ot].l(v);v.forEach(p),h.forEach(p),e.forEach(p),this.h()},h:function(){U.title="Schedule - Final Show - 2020",y(f,"href","/live"),y($,"href","/getting-there"),y(G,"class","rounded-link bd-col-2 col-2"),y(G,"href",P),y(G,"target","_blank"),y(K,"class","filter-item svelte-eosgbm"),T(K,"is-selected",null===e[0]),y(Q,"class","filter-item svelte-eosgbm"),T(Q,"is-selected",e[0]===ft),y(rt,"class","filter-item svelte-eosgbm"),T(rt,"is-selected",e[0]===ut),y(_,"class","filter-items svelte-eosgbm"),y(a,"class","content"),y(s,"class","container page-max-width"),y(r,"class","section bg-col-7")},m:function(t,h){b(t,n,h),b(t,r,h),w(r,s),w(s,a),w(a,o),w(o,i),w(a,c),w(a,l),w(l,u),w(l,f),w(f,A),w(l,S),w(a,D),w(a,x),w(x,L),w(x,$),w($,V),w(a,H),w(a,j),w(j,J),w(a,B),w(a,M);for(var v=0;v<ht.length;v+=1)ht[v].m(M,null);w(M,F),w(M,G),w(G,q),w(a,Y),w(a,_),w(_,K),w(K,Z),w(_,z),w(_,Q),w(Q,et),w(_,nt),w(_,rt),w(rt,st),w(a,at);for(var d=0;d<mt.length;d+=1)mt[d].m(a,null);it||(ct=[E(K,"click",e[6]),E(Q,"click",e[7]),E(rt,"click",e[8])],it=!0)},p:function(e,n){var r=t(n,1)[0];if(2&r){var s;for(lt=e[1],s=0;s<lt.length;s+=1){var o=X(e,lt,s);ht[s]?ht[s].p(o,r):(ht[s]=tt(o),ht[s].c(),ht[s].m(M,F))}for(;s<ht.length;s+=1)ht[s].d(1);ht.length=lt.length}if(1&r&&T(K,"is-selected",null===e[0]),1&r&&T(Q,"is-selected",e[0]===ft),1&r&&T(rt,"is-selected",e[0]===ut),10&r){var i;for(dt=e[1],i=0;i<dt.length;i+=1){var c=W(e,dt,i);mt[i]?mt[i].p(c,r):(mt[i]=ot(c),mt[i].c(),mt[i].m(a,null))}for(;i<mt.length;i+=1)mt[i].d(1);mt.length=dt.length}},i:O,o:O,d:function(t){t&&p(n),t&&p(r),k(ht,t),k(mt,t),it=!1,R(ct)}}}function ct(t){return lt.apply(this,arguments)}function lt(){return(lt=n(r.mark((function t(e){var n,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,this.fetch("schedule.tsv").then((function(t){return t.text()}));case 3:return n=t.sent,t.next=6,this.fetch("artists.tsv").then((function(t){return t.text()}));case 6:return s=t.sent,t.abrupt("return",{scheduleRows:n,artistsRows:s});case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var ut="ONSITE",ft="ONLINE";function ht(t){var e=t.target;document.querySelector(e.getAttribute("href")).scrollIntoView({behavior:"smooth"})}function vt(e,n,r){var s,a,o=n.scheduleRows,i=n.artistsRows,c=new Map,l=null;var u,f,h;return e.$$set=function(t){"scheduleRows"in t&&r(4,o=t.scheduleRows),"artistsRows"in t&&r(5,i=t.artistsRows)},e.$$.update=function(){560&e.$$.dirty&&(r(9,s=$(i)),s.forEach((function(t){c.set(t.username,t),t.slug=J(t.name)})),r(2,a=$(o,B).map((function(t){return t.artists=[],t.username&&t.username.trim()&&t.username.split(/,\s*/).forEach((function(e){var n=c.get(e);n?t.artists.push(n):console.log("Couldn't find \"".concat(e,'"'))})),t.startsAt=new Date(t.startTime),t})).filter((function(t){return t.startTime})))),5&e.$$.dirty&&r(10,u=a.filter((function(t){return!l||(l===ut?t.physical:l===ft?t.livestream:void 0)}))),1024&e.$$.dirty&&r(11,f=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y(t,F,F,n)}(u,(function(t){return t.startTime.toISOString().slice(0,10)}))),2048&e.$$.dirty&&r(1,h=Array.from(f.entries()).sort((function(t,e){return function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(t[0],e[0])})).map((function(e){var n=t(e,2),r=n[0],s=n[1];return s.sort((function(t,e){return t.startsAt-e.startsAt})),[r,s]})))},[l,h,a,function(t){return function(t){return t.endsAt<_}(t)?"bd-col-7":function(t){return t.startsAt>=_&&t.endsAt<_}(t.startsAt)?"bd-col-1":void 0},o,i,function(){return r(0,l=null)},function(){return r(0,l=ft)},function(){return r(0,l=ut)}]}var dt=function(t){s(n,f);var e=K(n);function n(t){var r;return i(this,n),r=e.call(this),c(u(r),t,vt,it,l,{scheduleRows:4,artistsRows:5}),r}return n}();export default dt;export{ct as preload};
