import{A as e,S as t,i as s,s as l,e as r,t as a,g as n,h as o,j as i,d as c,k as h,l as f,n as u,B as d,v as m,a as g,C as v,f as p,z as E,D as b,q as w,E as y,o as A,F as I,G as S,H as N}from"./client.c1e7f364.js";import{t as k}from"./tsv.6a7ced64.js";import{f as D,a as C,b as V,s as $}from"./helpers.b84b4fdd.js";import{E as L}from"./constants.e85bc00e.js";function T(e){return e}function H(e,...t){return function(e,t,s,l){return function e(r,a){if(a>=l.length)return s(r);const n=new Map,o=l[a++];let i=-1;for(const e of r){const t=o(e,++i,r),s=n.get(t);s?s.push(e):n.set(t,[e])}for(const[t,s]of n)n.set(t,e(s,a));return t(n)}(e,0)}(e,T,T,t)}const R=e(null,e=>{e(new Date);const t=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(t)}),{document:x}=S;function O(e,t,s){const l=e.slice();return l[21]=t[s],l}function P(e,t,s){const l=e.slice();return l[21]=t[s],l}function j(e,t,s){const l=e.slice();return l[18]=t[s],l[20]=s,l}function J(e,t,s){const l=e.slice();return l[15]=t[s][0],l[2]=t[s][1],l}function B(e,t,s){const l=e.slice();return l[15]=t[s][0],l[2]=t[s][1],l}function F(e){let t,s,l,g,v,p=D(e[2][0].startsAt)+"";return{c(){t=r("a"),s=a(p),this.h()},l(e){t=n(e,"A",{class:!0,href:!0});var l=o(t);s=i(l,p),l.forEach(c),this.h()},h(){h(t,"class","rounded-link bd-col-1 col-1"),h(t,"href",l="#"+D(e[2][0].startsAt).toLowerCase())},m(e,l){f(e,t,l),u(t,s),g||(v=d(t,"click",N(U)),g=!0)},p(e,r){2&r&&p!==(p=D(e[2][0].startsAt)+"")&&m(s,p),2&r&&l!==(l="#"+D(e[2][0].startsAt).toLowerCase())&&h(t,"href",l)},d(e){e&&c(t),g=!1,v()}}}function G(e){let t,s;return{c(){t=r("span"),s=a("ONLINE"),this.h()},l(e){t=n(e,"SPAN",{class:!0});var l=o(t);s=i(l,"ONLINE"),l.forEach(c),this.h()},h(){h(t,"class","rounded-link col-6 bd-col-6 svelte-eosgbm")},m(e,l){f(e,t,l),u(t,s)},d(e){e&&c(t)}}}function q(e){let t,s;return{c(){t=r("span"),s=a("ONSITE"),this.h()},l(e){t=n(e,"SPAN",{class:!0});var l=o(t);s=i(l,"ONSITE"),l.forEach(c),this.h()},h(){h(t,"class","rounded-link col-6 bd-col-6 svelte-eosgbm")},m(e,l){f(e,t,l),u(t,s)},d(e){e&&c(t)}}}function M(e){let t,s,l,d,v=e[21].name+"";return{c(){t=r("a"),s=a(v),l=g(),this.h()},l(e){t=n(e,"A",{href:!0,class:!0});var r=o(t);s=i(r,v),l=p(r),r.forEach(c),this.h()},h(){h(t,"href",d="artists/"+e[21].slug),h(t,"class","artist-name col-5 svelte-eosgbm")},m(e,r){f(e,t,r),u(t,s),u(t,l)},p(e,l){2&l&&v!==(v=e[21].name+"")&&m(s,v),2&l&&d!==(d="artists/"+e[21].slug)&&h(t,"href",d)},d(e){e&&c(t)}}}function Y(e){let t,s,l,a;return{c(){t=r("a"),s=r("span"),l=g(),this.h()},l(e){t=n(e,"A",{href:!0});var r=o(t);s=n(r,"SPAN",{class:!0,style:!0}),o(s).forEach(c),l=p(r),r.forEach(c),this.h()},h(){h(s,"class","bio-photo svelte-eosgbm"),E(s,"background-image","url(img/bios/"+e[21].username+".jpeg)"),h(t,"href",a="artists/"+e[21].slug)},m(e,r){f(e,t,r),u(t,s),u(t,l)},p(e,l){2&l&&E(s,"background-image","url(img/bios/"+e[21].username+".jpeg)"),2&l&&a!==(a="artists/"+e[21].slug)&&h(t,"href",a)},d(e){e&&c(t)}}}function z(e){let t,s,l,d,v,E,w,y,A,I,S,N,k,D,C,$,L,T,H,R,x,j,J=V(e[18].startsAt)+"",B=e[18].title+"",F=e[18].desc+"",z="true"==e[18].livestream&&G(),_="yes"==e[18].physical&&q(),K=e[18].artists,Q=[];for(let t=0;t<K.length;t+=1)Q[t]=M(P(e,K,t));let U=e[18].artists,W=[];for(let t=0;t<U.length;t+=1)W[t]=Y(O(e,U,t));return{c(){t=r("div"),s=r("div"),l=r("div"),z&&z.c(),d=g(),_&&_.c(),v=g(),E=r("div"),w=r("div"),y=a(J),A=g(),I=r("div"),S=a(B),N=g(),k=r("div"),D=a(F),C=g();for(let e=0;e<Q.length;e+=1)Q[e].c();$=g(),L=r("div");for(let e=0;e<W.length;e+=1)W[e].c();T=g(),this.h()},l(e){t=n(e,"DIV",{id:!0,class:!0,live:!0,physical:!0});var r=o(t);s=n(r,"DIV",{class:!0});var a=o(s);l=n(a,"DIV",{class:!0});var h=o(l);z&&z.l(h),d=p(h),_&&_.l(h),h.forEach(c),v=p(a),E=n(a,"DIV",{class:!0});var f=o(E);w=n(f,"DIV",{class:!0});var u=o(w);y=i(u,J),u.forEach(c),A=p(f),I=n(f,"DIV",{class:!0});var m=o(I);S=i(m,B),m.forEach(c),N=p(f),k=n(f,"DIV",{class:!0});var g=o(k);D=i(g,F),g.forEach(c),C=p(f);for(let e=0;e<Q.length;e+=1)Q[e].l(f);f.forEach(c),$=p(a),L=n(a,"DIV",{class:!0});var b=o(L);for(let e=0;e<W.length;e+=1)W[e].l(b);b.forEach(c),a.forEach(c),T=p(r),r.forEach(c),this.h()},h(){h(l,"class","column is-1 location-data svelte-eosgbm"),h(w,"class","event-time col-3 svelte-eosgbm"),h(I,"class","event-title svelte-eosgbm"),h(k,"class","event-description svelte-eosgbm"),h(E,"class","column is-9"),h(L,"class","column text-align-right svelte-eosgbm"),h(s,"class","columns"),h(t,"id",H=e[18].id),h(t,"class",R=" event "+e[3](e[18])+" svelte-eosgbm"),h(t,"live",x=e[18].livestream),h(t,"physical",j=e[18].physical)},m(e,r){f(e,t,r),u(t,s),u(s,l),z&&z.m(l,null),u(l,d),_&&_.m(l,null),u(s,v),u(s,E),u(E,w),u(w,y),u(E,A),u(E,I),u(I,S),u(E,N),u(E,k),u(k,D),u(E,C);for(let e=0;e<Q.length;e+=1)Q[e].m(E,null);u(s,$),u(s,L);for(let e=0;e<W.length;e+=1)W[e].m(L,null);u(t,T)},p(e,s){if("true"==e[18].livestream?z||(z=G(),z.c(),z.m(l,d)):z&&(z.d(1),z=null),"yes"==e[18].physical?_||(_=q(),_.c(),_.m(l,null)):_&&(_.d(1),_=null),2&s&&J!==(J=V(e[18].startsAt)+"")&&m(y,J),2&s&&B!==(B=e[18].title+"")&&m(S,B),2&s&&F!==(F=e[18].desc+"")&&m(D,F),2&s){let t;for(K=e[18].artists,t=0;t<K.length;t+=1){const l=P(e,K,t);Q[t]?Q[t].p(l,s):(Q[t]=M(l),Q[t].c(),Q[t].m(E,null))}for(;t<Q.length;t+=1)Q[t].d(1);Q.length=K.length}if(2&s){let t;for(U=e[18].artists,t=0;t<U.length;t+=1){const l=O(e,U,t);W[t]?W[t].p(l,s):(W[t]=Y(l),W[t].c(),W[t].m(L,null))}for(;t<W.length;t+=1)W[t].d(1);W.length=U.length}2&s&&H!==(H=e[18].id)&&h(t,"id",H),2&s&&R!==(R=" event "+e[3](e[18])+" svelte-eosgbm")&&h(t,"class",R),2&s&&x!==(x=e[18].livestream)&&h(t,"live",x),2&s&&j!==(j=e[18].physical)&&h(t,"physical",j)},d(e){e&&c(t),z&&z.d(),_&&_.d(),b(Q,e),b(W,e)}}}function _(e){let t,s,l,d,E,w=C(e[2][0].startsAt)+"",y=e[2],A=[];for(let t=0;t<y.length;t+=1)A[t]=z(j(e,y,t));return{c(){t=r("h2"),s=a(w),d=g();for(let e=0;e<A.length;e+=1)A[e].c();E=v(),this.h()},l(e){t=n(e,"H2",{id:!0});var l=o(t);s=i(l,w),l.forEach(c),d=p(e);for(let t=0;t<A.length;t+=1)A[t].l(e);E=v(),this.h()},h(){h(t,"id",l=D(e[2][0].startsAt).toLowerCase())},m(e,l){f(e,t,l),u(t,s),f(e,d,l);for(let t=0;t<A.length;t+=1)A[t].m(e,l);f(e,E,l)},p(e,r){if(2&r&&w!==(w=C(e[2][0].startsAt)+"")&&m(s,w),2&r&&l!==(l=D(e[2][0].startsAt).toLowerCase())&&h(t,"id",l),10&r){let t;for(y=e[2],t=0;t<y.length;t+=1){const s=j(e,y,t);A[t]?A[t].p(s,r):(A[t]=z(s),A[t].c(),A[t].m(E.parentNode,E))}for(;t<A.length;t+=1)A[t].d(1);A.length=y.length}},d(e){e&&c(t),e&&c(d),b(A,e),e&&c(E)}}}function K(e){let t,s,l,m,v,E,S,N,k,D,C,V,$,T,H,R,O,P,j,G,q,M,Y,z,K,Q,U,W,X,Z,ee,te,se,le,re,ae=e[1],ne=[];for(let t=0;t<ae.length;t+=1)ne[t]=F(B(e,ae,t));let oe=e[1],ie=[];for(let t=0;t<oe.length;t+=1)ie[t]=_(J(e,oe,t));return{c(){t=g(),s=r("section"),l=r("div"),m=r("div"),v=r("h2"),E=a("Events"),S=g(),N=r("p"),k=a("The online component of Chimera Garden features a mixture of live\n        performance, discussion and demonstrations, streamed directly from St\n        James Hatcham Church and remote artists’ locations. You will be able to\n        catch the online stream through Twitch here on our website during the\n        show."),D=g(),C=r("p"),V=a("Below you can find the line up of events, some that will be happening\n        physically in St James Hatcham Church and those that will be streaming\n        online. Below you can register for free tickets for the online events.\n        If you would like to visit us at St James Hatcham Church please read our\n        "),$=r("a"),T=a("safety guidelines and register here."),H=g(),R=r("h2"),O=a("Schedule"),P=g(),j=r("div");for(let e=0;e<ne.length;e+=1)ne[e].c();G=g(),q=r("a"),M=a("Free online tickets"),Y=g(),z=r("div"),K=r("span"),Q=a("ALL"),U=g(),W=r("span"),X=a("ONLINE"),Z=g(),ee=r("span"),te=a("ONSITE"),se=g();for(let e=0;e<ie.length;e+=1)ie[e].c();this.h()},l(e){w('[data-svelte="svelte-1llonc1"]',x.head).forEach(c),t=p(e),s=n(e,"SECTION",{class:!0});var r=o(s);l=n(r,"DIV",{class:!0});var a=o(l);m=n(a,"DIV",{class:!0});var h=o(m);v=n(h,"H2",{});var f=o(v);E=i(f,"Events"),f.forEach(c),S=p(h),N=n(h,"P",{});var u=o(N);k=i(u,"The online component of Chimera Garden features a mixture of live\n        performance, discussion and demonstrations, streamed directly from St\n        James Hatcham Church and remote artists’ locations. You will be able to\n        catch the online stream through Twitch here on our website during the\n        show."),u.forEach(c),D=p(h),C=n(h,"P",{});var d=o(C);V=i(d,"Below you can find the line up of events, some that will be happening\n        physically in St James Hatcham Church and those that will be streaming\n        online. Below you can register for free tickets for the online events.\n        If you would like to visit us at St James Hatcham Church please read our\n        "),$=n(d,"A",{href:!0});var g=o($);T=i(g,"safety guidelines and register here."),g.forEach(c),d.forEach(c),H=p(h),R=n(h,"H2",{});var b=o(R);O=i(b,"Schedule"),b.forEach(c),P=p(h),j=n(h,"DIV",{});var y=o(j);for(let e=0;e<ne.length;e+=1)ne[e].l(y);G=p(y),q=n(y,"A",{class:!0,href:!0,target:!0});var A=o(q);M=i(A,"Free online tickets"),A.forEach(c),y.forEach(c),Y=p(h),z=n(h,"DIV",{class:!0});var I=o(z);K=n(I,"SPAN",{class:!0});var L=o(K);Q=i(L,"ALL"),L.forEach(c),U=p(I),W=n(I,"SPAN",{class:!0});var J=o(W);X=i(J,"ONLINE"),J.forEach(c),Z=p(I),ee=n(I,"SPAN",{class:!0});var B=o(ee);te=i(B,"ONSITE"),B.forEach(c),I.forEach(c),se=p(h);for(let e=0;e<ie.length;e+=1)ie[e].l(h);h.forEach(c),a.forEach(c),r.forEach(c),this.h()},h(){x.title="Schedule - Final Show - 2020",h($,"href","/getting-there"),h(q,"class","rounded-link bd-col-2 col-2"),h(q,"href",L),h(q,"target","_blank"),h(K,"class","filter-item svelte-eosgbm"),y(K,"is-selected",null===e[0]),h(W,"class","filter-item svelte-eosgbm"),y(W,"is-selected","online"===e[0]),h(ee,"class","filter-item svelte-eosgbm"),y(ee,"is-selected","onsite"===e[0]),h(z,"class","filter-items svelte-eosgbm"),h(m,"class","content"),h(l,"class","container page-max-width"),h(s,"class","section bg-col-7")},m(r,a){f(r,t,a),f(r,s,a),u(s,l),u(l,m),u(m,v),u(v,E),u(m,S),u(m,N),u(N,k),u(m,D),u(m,C),u(C,V),u(C,$),u($,T),u(m,H),u(m,R),u(R,O),u(m,P),u(m,j);for(let e=0;e<ne.length;e+=1)ne[e].m(j,null);u(j,G),u(j,q),u(q,M),u(m,Y),u(m,z),u(z,K),u(K,Q),u(z,U),u(z,W),u(W,X),u(z,Z),u(z,ee),u(ee,te),u(m,se);for(let e=0;e<ie.length;e+=1)ie[e].m(m,null);le||(re=[d(K,"click",e[6]),d(W,"click",e[7]),d(ee,"click",e[8])],le=!0)},p(e,[t]){if(2&t){let s;for(ae=e[1],s=0;s<ae.length;s+=1){const l=B(e,ae,s);ne[s]?ne[s].p(l,t):(ne[s]=F(l),ne[s].c(),ne[s].m(j,G))}for(;s<ne.length;s+=1)ne[s].d(1);ne.length=ae.length}if(1&t&&y(K,"is-selected",null===e[0]),1&t&&y(W,"is-selected","online"===e[0]),1&t&&y(ee,"is-selected","onsite"===e[0]),10&t){let s;for(oe=e[1],s=0;s<oe.length;s+=1){const l=J(e,oe,s);ie[s]?ie[s].p(l,t):(ie[s]=_(l),ie[s].c(),ie[s].m(m,null))}for(;s<ie.length;s+=1)ie[s].d(1);ie.length=oe.length}},i:A,o:A,d(e){e&&c(t),e&&c(s),b(ne,e),b(ie,e),le=!1,I(re)}}}async function Q({params:e}){return{scheduleRows:await this.fetch("schedule.tsv").then(e=>e.text()),artistsRows:await this.fetch("artists.tsv").then(e=>e.text())}}function U({target:e}){document.querySelector(e.getAttribute("href")).scrollIntoView({behavior:"smooth"})}function W(e,t,s){let l,r,{scheduleRows:a}=t,{artistsRows:n}=t,o=new Map,i=null;let c,h,f;return e.$$set=e=>{"scheduleRows"in e&&s(4,a=e.scheduleRows),"artistsRows"in e&&s(5,n=e.artistsRows)},e.$$.update=()=>{560&e.$$.dirty&&(s(9,l=k(n)),l.forEach(e=>{o.set(e.username,e),e.slug=$(e.name)}),s(2,r=k(a).map(e=>(e.themes=e.themes.split(/,\s*/),e.medium=e.medium.split(/,\s*/),e.artists=[],e.username.trim()&&e.username.split(/,\s*/).forEach(t=>{const s=o.get(t);s?e.artists.push(s):console.log(`Couldn't find "${t}"`)}),e.startsAt=new Date(e.startTime),e)).filter(e=>e.startTime))),5&e.$$.dirty&&s(10,c=r.filter(e=>!i||("onsite"===i?"yes"==e.physical:"online"===i?"true"==e.livestream:void 0))),1024&e.$$.dirty&&s(11,h=H(c,e=>e.startTime.slice(0,10))),2048&e.$$.dirty&&s(1,f=Array.from(h.entries()).sort((e,t)=>function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}(e[0],t[0])).map(([e,t])=>(t.sort((e,t)=>e.startsAt-t.startsAt),[e,t])))},[i,f,r,function(e){return function(e){return e.endsAt<R}(e)?"bd-col-7":function(e){return e.startsAt>=R&&e.endsAt<R}(e.startsAt)?"bd-col-1":void 0},a,n,()=>s(0,i=null),()=>s(0,i="online"),()=>s(0,i="onsite")]}export default class extends t{constructor(e){super(),s(this,e,W,K,l,{scheduleRows:4,artistsRows:5})}}export{Q as preload};
